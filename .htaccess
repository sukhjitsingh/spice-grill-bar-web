<IfModule mod_rewrite.c>
  RewriteEngine On
  
  # Sitemap handled via physical file copy in postbuild

  # 1. Serve root URL from dist/index.html
  RewriteRule ^$ dist/index.html [L]

  # 2. Check if the file exists in dist/ folder
  RewriteCond %{DOCUMENT_ROOT}/dist/$1 -f
  RewriteRule ^(.*)$ dist/$1 [L]

  # 3. Handle sub-directories (like /faq/) by serving dist/faq/index.html
  RewriteCond %{DOCUMENT_ROOT}/dist/$1/index.html -f
  RewriteRule ^(.+)/$ dist/$1/index.html [L]
  
  # 4. Handle paths without trailing slash (redirect to folder)
  RewriteCond %{DOCUMENT_ROOT}/dist/$1/index.html -f
  RewriteRule ^([^/]+)$ dist/$1/index.html [L]
</IfModule>
