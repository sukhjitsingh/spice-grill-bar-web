---
phase: 05-geo-content-pages
plan: 02
type: execute
wave: 2
depends_on:
  - 05-01
files_modified:
  - src/pages/directions.astro
autonomous: true
requirements:
  - CONT-05

must_haves:
  truths:
    - "/directions/ renders with per-city H2 sections for all 7 cities (Las Vegas, Los Angeles, Flagstaff, Kingman, Phoenix, Williams, Seligman)"
    - "Each city section contains a turn-by-turn summary emphasizing I-40 Exit 146"
    - "An <address> block with NAP data appears in each city section"
    - "GoogleMap.tsx is embedded with client:visible below the fold"
    - "Page cross-links to /near-grand-canyon/ with trailing slash"
    - "Page has page-specific title, meta description, and OpenGraph tags"
  artifacts:
    - path: "src/pages/directions.astro"
      provides: "Directions page with per-city driving instructions and Google Maps embed"
      min_lines: 150
  key_links:
    - from: "src/pages/directions.astro"
      to: "src/layouts/Layout.astro"
      via: "Layout import with title, description, ogTitle, ogDescription, ogUrl props"
      pattern: "ogUrl.*spicegrillbar66.com/directions/"
    - from: "src/pages/directions.astro"
      to: "src/components/GoogleMap.tsx"
      via: "React component import with client:visible directive"
      pattern: "GoogleMap.*client:visible"
    - from: "src/pages/directions.astro"
      to: "/near-grand-canyon/"
      via: "internal cross-link anchor"
      pattern: 'href="/near-grand-canyon/"'
---

<objective>
Create the /directions/ page with per-city driving directions emphasizing I-40 Exit 146, NAP address blocks, Google Maps embed, and cross-links. Each city section is a self-contained AEO-extractable block.

Purpose: Capture "directions to Spice Grill & Bar" and city-specific navigation queries in AI engines by providing structured turn-by-turn summaries for 7 origin cities.

Output: Live /directions/ page with 7 city H2 sections, turn-by-turn summaries, NAP address blocks, Google Maps embed (lazy-loaded), and cross-link to /near-grand-canyon/.
</objective>

<execution_context>
@/Users/moni/.claude/get-shit-done/workflows/execute-plan.md
@/Users/moni/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-geo-content-pages/05-RESEARCH.md
@.planning/phases/05-geo-content-pages/05-01-SUMMARY.md
@src/layouts/Layout.astro
@src/pages/faq.astro
@src/components/GoogleMap.tsx
@src/components/LocationSection.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create /directions/ page with per-city H2 sections and Google Maps embed</name>
  <files>src/pages/directions.astro</files>
  <action>
Create `src/pages/directions.astro` following the faq.astro page shell pattern.

**Imports (frontmatter):**
```astro
---
import { GoogleMap } from '@/components/GoogleMap';
import Layout from '../layouts/Layout.astro';

const API_KEY = import.meta.env.PUBLIC_GOOGLE_MAPS_API_KEY;
---
```

**Layout props:**
- `title`: "Directions to Spice Grill & Bar | I-40 Exit 146, Ash Fork, AZ"
- `description`: "Driving directions to Spice Grill & Bar from Las Vegas, Los Angeles, Flagstaff, Kingman, Phoenix, Williams, and Seligman. Take I-40 Exit 146 in Ash Fork, AZ."
- `ogTitle`: "Directions to Spice Grill & Bar — I-40 Exit 146"
- `ogDescription`: "Step-by-step driving directions from 7 cities to Spice Grill & Bar in Ash Fork, AZ. Take I-40 Exit 146."
- `ogUrl`: "https://spicegrillbar66.com/directions/"

**Page structure (inside `<main class="pt-32 pb-24 px-6 bg-zinc-50 dark:bg-black min-h-screen">` > `<div class="max-w-4xl mx-auto">`)**:

1. **Answer-first H1** — text-4xl md:text-5xl font-serif font-bold mb-6 text-zinc-900 dark:text-white text-left. Text: "Directions to Spice Grill & Bar" with `<span class="text-brand-orange">I-40 Exit 146, Ash Fork, AZ</span>` on a second line.

2. **Lead paragraph** — text-lg, text-zinc-600 dark:text-zinc-300, mb-8, leading-relaxed. A brief 2-sentence intro: Spice Grill & Bar is located at 33 Lewis Ave in Ash Fork, Arizona, right off I-40 Exit 146 on Historic Route 66. Below are driving directions from nearby cities.

3. **Anchor nav for city sections** — A horizontal scrollable nav (on mobile) or wrapped flex (on desktop) with links to each city section. Use `<nav>` with `<ul class="flex flex-wrap gap-3 mb-12">` containing `<li>` items with `<a href="#city-id" class="...">City Name</a>`. Style as pill-shaped links: `px-4 py-2 rounded-full text-sm font-semibold bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-white/10 hover:bg-brand-orange hover:text-white transition-colors`. Use `scroll-margin-top: 6rem` on each section (via Tailwind `scroll-mt-24`) so the fixed header doesn't cover content when jumping.

4. **Per-city H2 sections** — 7 sections, each as `<section id="{city-slug}" class="scroll-mt-24 mb-12">` containing:

   a. **H2 heading** — `text-2xl font-serif font-semibold text-zinc-900 dark:text-white mb-4`. Format: "From {City}, {State} — {Distance} {Direction}". Examples:
      - "From Williams, AZ — 18 Miles East on I-40"
      - "From Seligman, AZ — 25 Miles East on I-40"
      - "From Flagstaff, AZ — 51 Miles West on I-40"
      - "From Kingman, AZ — 97 Miles East on I-40"
      - "From Phoenix, AZ — 144 Miles via I-17 & I-40"
      - "From Las Vegas, NV — 200 Miles via US-93 & I-40"
      - "From Los Angeles, CA — 414 Miles East on I-40"

   b. **Turn-by-turn paragraph** — A standalone `<p>` with clear driving instructions. Emphasize **Exit 146** with `<strong>`. Third person factual voice. Include drive time. Each paragraph should be self-contained and extractable. Example for Flagstaff:
      "From Flagstaff, take I-40 West toward Kingman. Drive about 51 miles (roughly 46 minutes) and take **Exit 146** (Ash Fork / Historic Route 66). Turn right onto Lewis Ave — Spice Grill & Bar is at 33 Lewis Ave on your right."

      For each city, write a specific turn-by-turn summary:
      - **Williams**: I-40 West, 18 miles, ~18 min, Exit 146
      - **Seligman**: I-40 East, 25 miles, ~24 min, Exit 146
      - **Flagstaff**: I-40 West, 51 miles, ~46 min, Exit 146
      - **Kingman**: I-40 East, 97 miles, ~1.5 hrs, Exit 146
      - **Phoenix**: I-17 North to I-40 West, 144 miles, ~2 hr 41 min, Exit 146
      - **Las Vegas**: US-93 South to I-40 East (or I-40 East via Kingman), 200 miles, ~3 hrs, Exit 146
      - **Los Angeles**: I-40 East, 414 miles, ~6 hrs, Exit 146

   c. **NAP address block** — In each section, include a compact `<address>` element:
      ```html
      <address class="mt-4 text-sm text-zinc-500 dark:text-zinc-400 not-italic">
        <strong>Spice Grill & Bar</strong><br />
        33 Lewis Ave, Ash Fork, AZ 86320<br />
        <a href="tel:+19282771292" class="text-brand-orange hover:underline">(928) 277-1292</a>
      </address>
      ```
      Use `not-italic` class to override the default italic styling of `<address>`.

   Wrap each section content in a card container matching the homepage style: `bg-white dark:bg-zinc-900/50 p-6 md:p-8 rounded-2xl border border-zinc-200 dark:border-white/10 shadow-sm`.

   **City order:** Nearest first — Williams, Seligman, Flagstaff, Kingman, Phoenix, Las Vegas, Los Angeles.

5. **Google Maps embed** — After all city sections, add the map:
   ```astro
   <section class="mt-16">
     <h2 class="text-2xl font-serif font-semibold text-zinc-900 dark:text-white mb-6">Find Us on the Map</h2>
     <div class="w-full h-[400px] rounded-2xl overflow-hidden border border-zinc-200 dark:border-white/10">
       <GoogleMap apiKey={API_KEY} client:visible />
     </div>
   </section>
   ```
   Use `client:visible` (NOT `client:load`). This keeps the map below the fold and defers hydration for LCP performance.

6. **Cross-links section** — Below the map:
   - "See How Close We Are to the Grand Canyon" → `/near-grand-canyon/` (trailing slash)
   - "View Our Full Menu" → `/` (trailing slash)
   Style as prominent links with brand-orange text, font-semibold, hover:underline. Can be inline or stacked.

**Styling guidelines:**
- Match faq.astro and near-grand-canyon.astro visual patterns
- No images — text-only (except the Google Maps embed which is below fold)
- Mobile-first: stack everything, generous padding, anchor nav scrolls horizontally
- Use `scroll-mt-24` on each section for smooth anchor scrolling past the fixed header
- All internal links must have trailing slashes
- Use `&amp;` for ampersand in HTML content where needed (Astro handles this in expressions)

**Anti-patterns to avoid:**
- Do NOT use `client:load` on GoogleMap — use `client:visible`
- Do NOT add multiple GoogleMap instances (one per city) — one map at the bottom
- Do NOT use `<li>` for turn-by-turn directions — use `<p>` for AEO extraction
- Do NOT forget trailing slashes on internal links
- Do NOT add images above the fold
  </action>
  <verify>
Run `npm run build` — build must succeed with no errors.

Verify the built HTML:
- Check `dist/directions/index.html` exists
- Confirm it contains page-specific og:url with "/directions/"
- Confirm it contains page-specific og:title (not the homepage default)
- Confirm 7 H2 headings for each city
- Confirm `<address>` elements with NAP data
- Confirm GoogleMap component with `client:visible`
- Confirm cross-link to `/near-grand-canyon/` with trailing slash
- Confirm `<strong>Exit 146</strong>` appears in each city section

Run `npm run test:aeo` to check AEO audit on the directions page.

Run `npm run test:lhci` — both /near-grand-canyon/ and /directions/ should now pass Lighthouse CI (LCP < 4000ms, Accessibility >= 90, SEO >= 90). This is the final validation that Phase 5 is complete.

Run `npm run test:quality` for overall quality checks (lint, typecheck, knip, AEO).
  </verify>
  <done>
/directions/ page is live in build output with: 7 per-city H2 sections with turn-by-turn driving instructions emphasizing Exit 146, NAP address block in each section, anchor nav for city jumping, GoogleMap embed (client:visible) below the fold, cross-links to /near-grand-canyon/ and homepage with trailing slashes, and page-specific title/description/OG tags. Lighthouse CI passes for both new pages.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds without errors
2. `dist/directions/index.html` exists with page-specific OG tags
3. 7 H2 city sections present with turn-by-turn instructions
4. `<strong>Exit 146</strong>` emphasized in each city section
5. `<address>` block with NAP data in each city section
6. GoogleMap rendered with `client:visible` (not `client:load`)
7. Cross-links to `/near-grand-canyon/` and `/` use trailing slashes
8. Anchor nav links to all 7 city sections
9. `npm run test:lhci` passes for both /near-grand-canyon/ and /directions/
10. `npm run test:aeo` passes
11. `npm run test:quality` passes (lint, typecheck, knip, AEO)
</verification>

<success_criteria>
- /directions/ page renders with 7 per-city H2 sections containing turn-by-turn directions
- I-40 Exit 146 is emphasized in every city section
- NAP address block appears in each section
- GoogleMap embed is below the fold with client:visible
- Page has page-specific title, meta description, and OpenGraph tags
- Cross-links to /near-grand-canyon/ and homepage present with trailing slashes
- Lighthouse CI passes for both new pages
- All quality checks pass
</success_criteria>

<output>
After completion, create `.planning/phases/05-geo-content-pages/05-02-SUMMARY.md`
</output>
